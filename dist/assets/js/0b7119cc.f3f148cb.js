"use strict";(self.webpackChunkarchway_docs=self.webpackChunkarchway_docs||[]).push([[548],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return k}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=d(n),k=r,g=u["".concat(s,".").concat(k)]||u[k]||p[k]||o;return n?a.createElement(g,i(i({ref:t},c),{},{components:n})):a.createElement(g,i({ref:t},c))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var d=2;d<o;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8462:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return c},default:function(){return u}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],l={sidebar_position:9},s="Staking",d={unversionedId:"staking",id:"staking",isDocsHomePage:!1,title:"Staking",description:"The Archway network is a Proof-Of-Stake (PoS) blockchain, meaning that the weight of validators is determined by the amount of staking tokens (ARCHs) bonded as collateral. These ARCHs can be self-delegated directly by the validator or delegated to them by other ARCH holders.",source:"@site/docs/staking.md",sourceDirName:".",slug:"/staking",permalink:"/docs/staking",editUrl:"https://github.com/archway-network/archway-docs/edit/main/docs/staking.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"Developer",permalink:"/docs/cli/developer"},next:{title:"CLI",permalink:"/docs/wallet"}},c=[{value:"Staking",id:"staking-1",children:[]},{value:"Delegate",id:"delegate",children:[{value:"CLI",id:"cli",children:[]},{value:"Keplr",id:"keplr",children:[]}]},{value:"Undelegate and Redelegate",id:"undelegate-and-redelegate",children:[]}],p={toc:c};function u(e){var t=e.components,l=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"staking"},"Staking"),(0,o.kt)("p",null,"The Archway network is a Proof-Of-Stake (PoS) blockchain, meaning that the weight of validators is determined by the amount of staking tokens (ARCHs) bonded as collateral. These ARCHs can be self-delegated directly by the validator or delegated to them by other ARCH holders."),(0,o.kt)("p",null,"Any user in the system can declare their intention to become a validator by sending a ",(0,o.kt)("inlineCode",{parentName:"p"},"create-validator")," transaction. From there, they become validator candidates."),(0,o.kt)("h2",{id:"staking-1"},"Staking"),(0,o.kt)("p",null,"The weight (i.e. voting power) of a validator determines whether or not they are an active validator"),(0,o.kt)("p",null,"Delegators are ARCH holders who cannot, or do not want to run a validator themselves. ARCH holders can delegate ARCHs to a validator and obtain a part of their revenue in exchange."),(0,o.kt)("p",null,"Now let's see how we can delegate some tokens to a validator."),(0,o.kt)("p",null,"You can stake by:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/validator/running-a-validator-node"},"Runing a validator")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/staking#Delegate"},"Delegating"))),(0,o.kt)("h2",{id:"delegate"},"Delegate"),(0,o.kt)("p",null,"You can stake by delegating your tokens to validators who process transactions and run the network."),(0,o.kt)("p",null,"This allows ARCH holders that don't have the skills or desire to run a validator to participate in securing the network and be rewarded."),(0,o.kt)("h3",{id:"cli"},"CLI"),(0,o.kt)("h4",{id:"requirements"},"Requirements"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/wallet#CLI"},"Installation")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/wallet#CLI"},"Create an account"))),(0,o.kt)("h4",{id:"connecting-to-the-network"},"Connecting to the network"),(0,o.kt)("p",null,"In order to delegate your stake you have to either ",(0,o.kt)("a",{parentName:"p",href:"/docs/node/join-a-network"},"run your node")," or you can connect to a trustworthy operator."),(0,o.kt)("p",null,"Malicious operator could return incorrect query results or censor your transactions. However, they will never be able to steal your funds, as your private keys are stored locally on your computer or ledger device. Possible options of full-node operators include validators, wallet providers or exchanges."),(0,o.kt)("p",null,"in order to connect to the network we must "),(0,o.kt)("h5",{id:"config-cli"},"Config CLI"),(0,o.kt)("p",null,"We must set the default value for the node we are connecting to"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"archwayd config node <host>:<port>\n")),(0,o.kt)("p",null,"then let us set the default value for ",(0,o.kt)("inlineCode",{parentName:"p"},"trust-node"),"flag: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"archwayd config trust-node false\n\n// Set to true if you run a light-client node, false otherwise\n")),(0,o.kt)("p",null,"Finally let's set up the chain ID of the network we want to interact with"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"archwayd config chain-id constantinople\n")),(0,o.kt)("h4",{id:"send-funds"},"Send funds"),(0,o.kt)("p",null,"In order to delegate we need to send a delegate transaction to a validator"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"archwayd tx staking delegate <validatorOperatorAddress> <amountToBond> --from <yourKeyName> --gas auto --gas-adjustment 1.5 --gas-prices <gasPrice>\n")),(0,o.kt)("h4",{id:"find-validators-operator-address"},"Find Validator's Operator Address"),(0,o.kt)("p",null,"We can query all the validators and pick the one we want to delegate tokens to it."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"archwayd query staking validators\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'pagination: {}\nvalidators:\n- commission:\n    commission_rates:\n      max_change_rate: "0.100000000000000000"\n      max_rate: "0.100000000000000000"\n      rate: "0.010000000000000000"\n    update_time: "2021-10-12T20:15:35.967858491Z"\n  consensus_pubkey:\n    \'@type\': /cosmos.crypto.ed25519.PubKey\n    key: X1LGMAY8dToCgBuMIMpctn20Fwenim2YTGoY9Y2J+To=\n  delegator_shares: "1000000000.000000000000000000"\n  description:\n    moniker: my-validator\n  min_self_delegation: "1"\n  operator_address: archwayvaloper14gxqxpxulxssv7pr4kltr9tl5dujtestxvjhkp\n  status: BOND_STATUS_BONDED\n  tokens: "1000000000"\n  unbonding_time: "1970-01-01T00:00:00Z"\n')),(0,o.kt)("p",null,"As we can see in our example we have one validator and its operator address is ",(0,o.kt)("inlineCode",{parentName:"p"},"archwayvaloper14gxqxpxulxssv7pr4kltr9tl5dujtestxvjhkp"),"."),(0,o.kt)("h3",{id:"keplr"},"Keplr"),(0,o.kt)("h4",{id:"staking-2"},"Staking"),(0,o.kt)("p",null,"First open your ",(0,o.kt)("inlineCode",{parentName:"p"},"keplr")," browser extension and click on the ",(0,o.kt)("inlineCode",{parentName:"p"},"Stake")," button."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Prerequisite:")," Make sure to deposit some tokens beforehand."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(2108).Z})),(0,o.kt)("p",null,"After you click the ",(0,o.kt)("inlineCode",{parentName:"p"},"Stake")," button, the ",(0,o.kt)("inlineCode",{parentName:"p"},"keplr")," extension opens the ",(0,o.kt)("inlineCode",{parentName:"p"},"keplr web wallet"),".\nIn the list of validators, select the one you want and then select ",(0,o.kt)("inlineCode",{parentName:"p"},"Manage"),"."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Warning:")," Conduct proper research about the validator before staking your tokens with them."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(5199).Z})),(0,o.kt)("p",null,"Pick a validator."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(4014).Z})),(0,o.kt)("p",null,"A window opens showing the website of the validator with some extra information.\nSelect the ",(0,o.kt)("inlineCode",{parentName:"p"},"Delegate")," button."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(671).Z})),(0,o.kt)("p",null,"Enter the amount of tokens that you want to stake."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," Since there is a transaction fee, make sure not to delegate all your tokens."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(4203).Z})),(0,o.kt)("p",null,"After you select the ",(0,o.kt)("inlineCode",{parentName:"p"},"Delegate")," button, another window allows you to select the transaction fees. If you want your transaction to be processed faster, you can offer a higher fee."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(9544).Z})),(0,o.kt)("p",null,"Now, select the ",(0,o.kt)("inlineCode",{parentName:"p"},"Set Fee")," button."),(0,o.kt)("p",null,"On the following page, make sure the validator address is correct."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(716).Z})),(0,o.kt)("p",null,"The validator address shows on their website. Now that you see the address is correct, you can approve it."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(8118).Z})),(0,o.kt)("p",null,"It takes a few moments for the transaction to get through. Open the ",(0,o.kt)("inlineCode",{parentName:"p"},"keplr")," extension to see the updates on your account."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(9797).Z})),(0,o.kt)("h4",{id:"claiming-the-staking-reward"},"Claiming the Staking Reward"),(0,o.kt)("p",null,"After some time, you can see the staking reward to be claimed."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(2656).Z})),(0,o.kt)("p",null,"To claim a reward, select the ",(0,o.kt)("inlineCode",{parentName:"p"},"Claim")," button.\nSelect a fee for the transaction and select the ",(0,o.kt)("inlineCode",{parentName:"p"},"Set Fee")," button."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(3155).Z})),(0,o.kt)("p",null,"After a few moments, you ycan see the updates on our account."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(1884).Z})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," Since there is a transaction fee, it is recommended to periodically claim the reward."),(0,o.kt)("h2",{id:"undelegate-and-redelegate"},"Undelegate and Redelegate"),(0,o.kt)("p",null,"To undelegate your staked tokens, select the validator from the list of validators in your ",(0,o.kt)("inlineCode",{parentName:"p"},"keplr web wallet")," and then select the ",(0,o.kt)("inlineCode",{parentName:"p"},"Undelegate")," button."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," The unbonding period in Cosmos-based networks is ",(0,o.kt)("inlineCode",{parentName:"p"},"21")," days. "),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(3122).Z})),(0,o.kt)("p",null,"To redelegate your tokens to another validator, select ",(0,o.kt)("inlineCode",{parentName:"p"},"Redelegate")," from the menu."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(9135).Z})),(0,o.kt)("p",null,"Then you can select another validator from the list."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(8227).Z}),"\n",(0,o.kt)("img",{src:n(8293).Z})),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Screenshots from: ",(0,o.kt)("a",{parentName:"em",href:"https://youtu.be/KYntLOLnLdg"},"https://youtu.be/KYntLOLnLdg"))))}u.isMDXComponent=!0},2108:function(e,t,n){t.Z=n.p+"assets/images/staking01-3aa48f8c8a1fe563307054b8137c611f.png"},5199:function(e,t,n){t.Z=n.p+"assets/images/staking02-ff1e47160757480c8ebfa4e9bd8af241.png"},4014:function(e,t,n){t.Z=n.p+"assets/images/staking03-41dbc43ae61ad9a6f1702c8e444fcdbb.png"},671:function(e,t,n){t.Z=n.p+"assets/images/staking04-26e5e01e750085c9573b65a88502be3c.png"},4203:function(e,t,n){t.Z=n.p+"assets/images/staking05-5a8234aa833b3c880966500a223e1f62.png"},9544:function(e,t,n){t.Z=n.p+"assets/images/staking06-39aa574dd0f9229299119d4c421c2cf4.png"},716:function(e,t,n){t.Z=n.p+"assets/images/staking07-566189880e23778d69de9ffda72c74d1.png"},8118:function(e,t,n){t.Z=n.p+"assets/images/staking08-23e75dc69f24ca7c104b0904ae175b9f.png"},9797:function(e,t,n){t.Z=n.p+"assets/images/staking09-e5c22ec26045e8b2a72ac074111670b4.png"},2656:function(e,t,n){t.Z=n.p+"assets/images/staking10-8417968c4e71b586867ea1fefe9570e7.png"},3155:function(e,t,n){t.Z=n.p+"assets/images/staking11-d1c61b4e141da6ba23185325c96ba548.png"},1884:function(e,t,n){t.Z=n.p+"assets/images/staking12-19f361af475b35a3b5eec0970436e170.png"},3122:function(e,t,n){t.Z=n.p+"assets/images/staking13-000271c048c92b872eaf4473fef7a9e2.png"},9135:function(e,t,n){t.Z=n.p+"assets/images/staking14-25e51eadf67922a4d2a4d5124ca1b7ea.png"},8227:function(e,t,n){t.Z=n.p+"assets/images/staking15-5046aa7e9731856db07a641e18a61edd.png"},8293:function(e,t,n){t.Z=n.p+"assets/images/staking16-81ce72437a31b9112945ad3f9c5d1588.png"}}]);